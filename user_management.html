<!DOCTYPE html>
<html lang="en">
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>My website</title>
  <link href="logo.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="index.css">
  <script src="jquery.min.js"></script>
  <script type="text/javascript">
  $(document).ready(function(){
    $.getJSON('user_details.json', function(data) {
      $.each(data.details, function (i, f) {
          $("#user_details tbody").append("<tr><td class=\"editIcon\"></td><td>"+f.firstname+"</td><td>"+f.lastname+"</td><td>"+f.email+"</td><td>"+f.status+"</td></tr>");
      });
    });
    $("#cancel").click(function(){
      $('.form_outer').removeClass('display_block');
      $('.form_inner').removeClass('display_block');
    });
    $("#submit").click(function(){
      $('.form_outer').removeClass('display_block');
      $('.form_inner').removeClass('display_block');
      var first_name=$("#firstname").val();
      var last_name= $("#lastname").val();
      var email= $("#email").val();
      if (firstname!="" && last_name!="" && email!="") {
        $("#user_details tbody").append("<tr><td class=\"editIcon\"></td><td>"+first_name+"</td><td>"+last_name+"</td><td>"+email+"</td><td>active</td></tr>");
        $("#firstname").val("");
        $("#lastname").val("");
        $("#email").val("");
      }
      else {
       alert('fill all the fields');
      }
    });

  });
  function add() {
    $('.form_outer').addClass('display_block');
    $('.form_inner').addClass('display_block');
  }

  $('.editIcon').on('click',function(){
    console.log('clicked edit');
    $('.outer').addClass('display_block');
    $('.edit_inner').addClass('display_block');
  });
  </script>
</head>
  <body>
    <header id="header">
      <div id="top-nav">
        <div class="top-navbar">
          <center class="inner-nav" id="heading"><a href="index.html" >My website</a></center>
          <div class="inner-nav page_links" style="float:left"><a href="home.html">Home</a></div>
          <div class="inner-nav page_links " style="float:left"><a href="gallery.html">Gallery</a></div>
          <div class="inner-nav page_links " style="float:left"><a href="user_management.html">User Management</a></div>
        </div>
      </div>
    </header>
    <main id="home_page">
      <div style="margin:0px 40px 0px 40px">
        <input type="button" value="Add" id="add_user" class="add_button" onclick="add()" style="margin-top:10px"/>
        <div class="form_outer">
          <div class="form_inner">
            <h3>Add User</h3>
            <label for="firstname">First Name</label><input type="text" id="firstname">
            <label for="firstname">Last Name</label><input type="text" id="lastname">
            <label for="firstname">Email</label><input type="text" id="email">
            <div style="padding:10px">
              <button id="submit">Submit</button>
              <button id="cancel">Cancel</button>
            </div>
          </div>
        </div>
        <div class="outer">
          <div class="edit_inner">
            <h3>Edit User</h3>
            <label for="firstname">First Name</label><input type="text" id="firstname">
            <label for="firstname">Last Name</label><input type="text" id="lastname">
            <label for="firstname">Email</label><input type="text" id="email">
            <label for="status">Status:</label><input type="checkbox" id="status">
            <div style="padding:10px">
              <button id="edit_submit">Submit</button>
              <button id="cancel">Cancel</button>
            </div>
          </div>
        </div>
          <table style="width:100%" id="user_details">
            <caption><h2>User Details</h2></caption>
            <thead>
              <tr>
                <th>
                </th>
                <th>
                  First Name
                </th>
                <th>
                  Last Name
                </th>
                <th>
                  Email
                </th>
                <th>
                  Status
                </th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
      </div>
    </main>
    <footer id="footer">
      <p>&copy; Copyright 2015 All Rights Reserved</p>
    </footer>
  </body>
</html>
